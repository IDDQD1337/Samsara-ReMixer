ACTOR QKStatue1 : QKnight
{
  Tag "Knight Statue"
  Seesound "QStatue/see"
  Painsound "QStatue/pain"
  Activesound "QStatue/active"
  Radius 16
  +Lookallaround
  +NoBlood
  DamageFactor "normal", 0.48
  PainChance "ShrinkerDMG", 0
  RadiusDamageFactor 1.5    
  States
  {
	  Spawn:
		STN1 A 0
		STN1 A 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		STN1 A 1 ACS_ExecuteAlways(668,0,1,0)
		STN1 A 0 A_GiveInventory("AlreadySpawned",1)
		STN1 A 0 A_JumpIfInventory("InvisibleToken",1,2)
		STN1 A 0 A_Jump(256,2)
		STN1 A 0 A_ChangeFlag("STEALTH",1)
	  Spawn2:
		STN1 ABCDEFGHI 4 A_Look
		Loop
	  See:
		STN2 A 4 A_Chase
		STN2 A 0 A_JumpIfCloser(80,"slash")
		STN2 B 4 A_Chase
		STN2 B 0 A_JumpIfCloser(80,"slash")
		STN2 C 4 A_Chase
		STN2 C 0 A_JumpIfCloser(80,"slash")
		STN2 D 4 A_Chase
		STN2 D 0 A_JumpIfCloser(80,"slash")
		STN2 E 4 A_Chase
		STN2 E 0 A_JumpIfCloser(80,"slash")
		STN2 F 4 A_Chase
		STN2 F 0 A_JumpIfCloser(80,"slash")
		STN2 G 4 A_Chase
		STN2 G 0 A_JumpIfCloser(80,"slash")
		STN2 H 4 A_Chase
		STN2 H 0 A_JumpIfCloser(80,"slash")
		Loop
	  Slash:
		STN3 A 0
		STN3 A 1 A_PlaySound("QKnight/Swing1")
		STN3 A 2 A_CustomMeleeAttack(random(1, 8)*1)
		STN3 B 3 A_FaceTarget
		TNT1 A 0 A_Recoil(-2)
		STN3 C 3 A_CustomMeleeAttack(random(1, 8)*1)
		STN3 D 3 A_FaceTarget
		STN3 E 3 A_CustomMeleeAttack(random(1, 8)*1)
		STN3 F 3 A_FaceTarget
		TNT1 A 0 A_Recoil(-2)
		STN3 G 3 A_CustomMeleeAttack(random(1, 8)*1)
		STN3 H 3 A_FaceTarget
		STN3 I 3 A_CustomMeleeAttack(random(1, 8)*1)
		STN3 J 3 A_FaceTarget
		TNT1 A 0 A_Recoil(-2)
		STN3 K 3 A_CustomMeleeAttack(random(1, 10)*1)
		STN3 K 0 A_GiveInventory("QKnightSlashChecker",1)
		Goto see
	  Melee:
		STN4 A 1 A_PlaySound("QKnight/Swing2")
		STN4 A 2 A_CustomMeleeAttack(random(1, 8)*1)
		TNT1 A 0 A_Recoil(-1)
		STN4 B 3 A_FaceTarget
		STN4 C 3 A_CustomMeleeAttack(random(1, 8)*1)
		STN4 D 3 A_FaceTarget
		STN4 E 3 A_CustomMeleeAttack(random(1, 8)*1)
		TNT1 A 0 A_Recoil(-1)
		STN4 F 3 A_FaceTarget
		STN4 G 3 A_CustomMeleeAttack(random(1, 8)*1)
		STN4 H 3 A_FaceTarget
		STN4 I 3 A_CustomMeleeAttack(random(1, 8)*1)
		TNT1 A 0 A_Recoil(-1)
		STN4 J 3 A_FaceTarget
		STN4 K 3 A_CustomMeleeAttack(random(1, 8)*1)
		Goto see
	  Pain:
		STN5 A 0 A_Jump(200,"pain1","pain2")
	  Pain1:
		STN5 A 0 A_ChangeFlag("NOPAIN", 1)
		STN5 A 4
		STN5 B 4 A_Pain
		STN5 C 4
		STN5 C 0 A_ChangeFlag("NOPAIN", 0)
		Goto see
	  Pain2:
		STN6 A 0 A_ChangeFlag("NOPAIN", 1)
		STN6 A 4 A_Recoil(-2)
		STN6 B 4 A_Pain
		STN6 CDEFGHIJK 4
		STN6 K 0 A_ChangeFlag("NOPAIN", 0)
		Goto see
	  Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)    
		TNT1 A 0 A_ChangeFlag("NOPAIN", 1)
		TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")		
		STN7 A 0 A_Jump(256,"death1","death2")
	  Death1:
		STN7 A 4
		STN7 B 4 A_Scream
		STN7 C 4 A_NoBlocking
		STN7 DEFGHI 4
		STN7 J -1
		Stop
	  Death2:
		STN8 A 4
		STN8 B 4 A_Scream
		STN8 C 4 A_NoBlocking
		STN8 DEFGHIJ 4
		STN8 K -1
		Stop
	  XDeath:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)    
		TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")							
		QZUM A 0 A_SpawnDebris("Quake_STGIB1")
		QZUM A 0 A_SpawnDebris("Quake_STGIB2")
		QZUM A 0 A_SpawnDebris("Quake_STGIB3")
		QZUM A 0 A_SpawnItemEx("Quake_ST1Head", 0, 0, 0, 0, 0, 10)
		TNT1 A 5 A_PlaySound("ranger/gib2")
		Stop
	  Pain.LifeLeech:
		TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
		TNT1 A 0 A_GiveToTarget("HealthBonus",1)
		Goto Pain		
	  Pain.Vodoo:
		TNT1 A 0 A_GiveToTarget("Voodoo", 1)
		Goto Pain
	  Death.HLLaser:
	  Death.HLExplosive:
	  Death.HLRPGExplosive:	
		TNT1 A 0 A_JumpIfHealthLower(-20,1)
		goto Death
	  Death.HLEgon:
	  Death.FreemanGibs:
		TNT1 A 0 A_SpawnItem("HLGenericGibSpawner")
		Goto XDeath
	  Death.Vodoo:
	  Death.VoodooPuff:
	  Death.DynamiteCoop:
	  Death.Dynamite:
	  Death.LifeLeech:
	  Death.CalebNapalm:
	  Death.Shock:	  
	  Death.Vodoo:
		TNT1 A 0 A_JumpIfHealthLower(-20,"XDeathForCaleb")
	  Death.Tesla:
	  Death.CalebFire:	
	  Death.CalebBullet:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		Goto Death
	  XDeathForCaleb:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("CalebGibSpawner")
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1",1)
		Goto XDeath		
	  Death.EradExplosive:
	  Death.EradNova:
	  Death.EradShock:
	  Death.EradExplosive2:	
		TNT1 A 0 A_JumpIfHealthLower(-5,"XDeathForCatBitch")
	  Death.EradDisc:
	  Death.EradPiercingDart:
	  Death.EradGreenFire:
	  Death.EradCoopGreenFire:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		Goto Death
	  XDeathForCatBitch:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("EleenaGibTaunt",1)
		Goto XDeath
	  Death.DukeDamage:
	  Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeKillTaunt",1)
		goto Death
	  Death.MightyBoot:
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
		goto Death
	  Death.DukeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-3,"DukeGibStart")
	  DukeGibStart:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnDebris("DukeGibs1")
		TNT1 A 0 A_SpawnDebris("DukeGibs2")
		TNT1 A 0 A_SpawnDebris("DukeGibs3")
		TNT1 A 0 A_SpawnDebris("DukeGibs4")
		TNT1 A 0 A_SpawnDebris("DukeGibs5")
		TNT1 A 0 A_SpawnDebris("DukeGibs6")
		TNT1 A 0 A_PlaySound("duke/enemygib")
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
		Goto XDeath
	  Death.PSRAPower:
	  Death.PSRAPowerCoop:
	  Death.PSExplosive:
	  Death.PSExplosiveCoop:
		TNT1 A 0 A_JumpIfHealthLower(-30, "XDeathForJon")
	  Death.PSBullet:
	  Death.PSFire:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		Goto Death
	  XDeathForJon:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("PSGibSpawner")
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1",1)
		Goto XDeath		
	  Death.LeonardDamage2:
	  Death.LeonardDamage3:
		TNT1 A 0 A_JumpIfHealthLower(-20, "XDeathForLeonard")
	  Death.LeonardDamage0:
	  Death.LeonardDamage1:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
		Goto Death
	  XDeathForLeonard:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("RRGibSpawner")
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("LeonardGibTaunt",1)
		Goto XDeath				
	  Death.SWFist:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWFisted")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death	
	  Death.SWKatana:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWKatanad")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death	
	  Death.SWShuriken:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWShurikend")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death
	  Death.SWSticky:
	  Death.SWStickyCoop:	  
	  Death.SWGrenade:
	  Death.SWNuke:
	  Death.SWRocket:
	  Death.SWRailgun:
	  Death.SWRailgunCoop:
	  Death.SWNukeCoop:
	  Death.SWFlame:
	  Death.SWFlame2:
	  Death.SWFlame2Coop:
	  Death.SWFlame3:	
		TNT1 A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
	  Death.SWBullet:	  
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		goto Death
	  XDeathForWang:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("SWHumanGibSpawner")	
		TNT1 A 0 A_Jump(218, "XDeath")	
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2",1)
		goto XDeath
	  Death.BittermanDamage:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XdeathForBitterman")
		goto Death
	  XdeathForBitterman:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)  
		TNT1 A 0 A_SpawnItemEx("Q2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Fall
		TNT1 A 5 A_FadeOut
		Stop
	  Death.ZorchPistol:
	  Death.Zorch:
	  Death.ZorchKamikaze:
	  Death.PhasingZorch:
	  Death.ZorchSpectral:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0) 
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A -1
		stop
	  Death.DukeIce:
		"####" "#" 0 A_PlaySound("duke/enemyfreeze")
		"####" "#" 0 A_GiveInventory("FreezethrowerWeakness")
		"####" "#" 0 A_Jump(218,"Ice")
		"####" "#" 0 A_GiveToTarget("DukeKillTaunt",1)
	  Ice:
	  Death.HexenIce:
	  Death.WTMeleeIce:
	  Death.WTRangedIce:
	  Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 70 A_UnsetSolid
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		TNT1 A 0
		stop
	  Death.RottDisintegrate:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking	
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_SpawnItem("RGodModeDeathSmall")
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		stop
	  Disintegrate:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectSmall",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		stop
	  Death.Nuke:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking		
		"####" "#" 0 A_SpawnItem("WTNukeDeathSmall")
		"####" "#################" 3 A_Fadeout(0.05)
		stop
	  Death.ExpanderDMG:
	  Death.ExpanderDMGCoop:
		Goto Death
	  XDeath.ExpanderDMG:
	  XDeath.ExpanderDMGCoop:
		Goto XDeath
  }
}