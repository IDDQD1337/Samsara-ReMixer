// The Wendigo, shatters into ice pieces on its death anim.

ACTOR IceGuy3 : IceGuy2 
{
	Tag "Wendigo"
    Health 250
	DamageFactor "QuakePistol", 1.0
    DamageFactor "MarathonPistol", 1.0
    DamageFactor "DukePistol", 1.0
    DamageFactor "Pistol", 1.0
    DamageFactor "DoomFist", 1.0
    DamageFactor "ZorchPistol", 1.0
    DamageFactor "Wraithverge", 1.0
    DamageFactor "Normal", 1.0
    DamageFactor "DragonClaw", 1.0
    DamageFactor "Mace", 1.0
    DamageFactor "Zorch", 1.0
    DamageFactor "PhasingZorch", 1.0
    DamageFactor "BFG", 1.0
    DamageFactor "BFGSpray", 1.0
    DamageFactor "Fire", 1.0
    DamageFactor "MarathonFire", 1.0
    DamageFactor "MarathonPlasmaFire", 1.0
    DamageFactor "Ice", 1.0
    DamageFactor "Disintegrate", 1.0
    DamageFactor "DukeDamage", 1.0
    DamageFactor "DukeExplosive", 1.0
    DamageFactor "DukeIce", 1.0
	DamageFactor "ElectricBolt", 1.0
	DamageFactor "PoisonBolt", 1.0		
    DamageFactor "Explosive", 1.0
    DamageFactor "MarathonFusion", 1.0
    DamageFactor "DoomPlasma", 1.0
    DamageFactor "CorvusCrossbow", 1.1
    DamageFactor "CorvusHellstaff", 1.0
    DamageFactor "CorvusHellstaffTomed", 1.0
    DamageFactor "MarathonPlasma", 1.0
    DamageFactor "BJSpear", 1.0
    DamageFactor "WMCBeam", 1.0
    DamageFactor "WMCNade", 1.0
	-TELESTOMP
	States
	{
	  Spawn:
		ICEY A 0
		ICEY A 1 A_JumpIfInventory("AlreadySpawned",1,"Super::Spawn")
		ICEY A 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		ICEY A 0 A_GiveInventory("AlreadySpawned",1)
		ICEY A 0
		Goto "Super::Spawn"
	  Death:
      XDeath:
        TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_KillMaster
		ICEY A 1	// This extra tic is needed for the kill count to work properly with certain characters
		ICEY A 1 A_IceGuyDie
        stop
	}
}