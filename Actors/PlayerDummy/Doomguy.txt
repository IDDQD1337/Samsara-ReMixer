actor DoomguyPlayer2 : DoomguyPlayer replaces DoomguyPlayer {
	States {
		Pain.RoTT_Net:
			TNT1 A 0 ACS_NamedExecuteAlways("RoTTNet", 0)
			Goto Super::Pain
		Pain.Grip:
			TNT1 A 0 A_JumpIfInventory("AlreadyGripped", 1, 4)
			TNT1 A 0 ThrustThingZ(0,50,0,0)
			TNT1 A 0 A_GiveInventory("AlreadyGripped", 1)
			TNT1 A 0 ACS_NamedExecuteAlways("DFJerecGrip")
			TNT1 A 0
			Goto Super::Pain
		Pain.DukeEnforcerSpit:
			TNT1 A 0 ACS_NamedExecuteAlways("DukeEnforcerSpit", 0)
			Goto Super::Pain	
		Pain.Hexen2MezzoDamage:
			TNT1 A 0 A_Jump(192,"Pain")
			TNT1 A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
			Goto Super::Pain
		Death.ShadowHoundBite:
			TNT1 A 0 ACS_NamedExecuteAlways("WitchHoundBite", 0)
			Goto Super::Death
		Death.DarkSide:
			TNT1 A 0 A_NoBlocking
			TNT1 A 0 ACS_NamedExecuteAlways("DFSummonClone")
			TNT1 A 0 A_PlayerScream
			TNT1 A -1
			stop	
		Pain:
			TNT1 A 0 A_TakeInventory("Hexen2EnemyFireDetector",1)
			Goto Super::Pain			
		Missile:
			TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "Missile64")
			TNT1 A 0 A_GiveInventory("Hexen2EnemyFireDetector",1)
			DGUY E 12 
			TNT1 A 0 A_TakeInventory("Hexen2EnemyFireDetector",1)
			Goto Spawn
		Missile64:
			64DG A 0 A_SetScale(0.75, 0.75)
			TNT1 A 0 A_GiveInventory("Hexen2EnemyFireDetector",1)
			64DG E 12
			TNT1 A 0 A_TakeInventory("Hexen2EnemyFireDetector",1)			
			Goto Spawn			
		Melee: 
			TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "Melee64")
			DGUY F 6 BRIGHT
			Goto Missile
		Melee64:
			64DG A 0 A_SetScale(0.75, 0.75)
			64DG F 6 BRIGHT
			Goto Missile			
		Death:
			TNT1 A 0 A_TakeInventory("AmAlreadyChoked",1)
			TNT1 A 0 A_TakeInventory("Chokeme",1)															
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")		
			TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "Death64")
			DGUY H 10 
			DGUY I 10 A_PlayerScream
			DGUY J 10 A_NoBlocking
			DGUY KLM 10
			DGUY N -1
			Stop
		Death64:
			64DG A 0 A_SetScale(0.75, 0.75)
			64DG H 11
			64DG I 11 A_PlaySound("Doom64Guy/die", CHAN_VOICE)
			64DG J 11 A_NoBlocking
			64DG KL 11
			64DG M -1
			Stop
		XDeath:
			TNT1 A 0 A_TakeInventory("AmAlreadyChoked",1)
			TNT1 A 0 A_TakeInventory("Chokeme",1)															
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")		
			TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "XDeath64")
			DGUY O 5
			DGUY P 5 A_XScream
			DGUY Q 5 A_NoBlocking
			DGUY RSTUV 5
			DGUY W -1
			Stop
		  XDeath64:
			64DG A 0 A_SetScale(0.75, 0.75)
			64DG N 6 A_PlaySound("Doom64Guy/crush", CHAN_VOICE)
			64DG O 6
			64DG P 6 A_NoBlocking
			64DG QRSTU 6
			64DG V -1
			Stop					
		Death.RottExplosive:
			TNT1 A 0 A_TakeInventory("AmAlreadyChoked",1)
			TNT1 A 0 A_TakeInventory("Chokeme",1)
			Goto Super::Death.RottExplosive			
		Disintegrate:
			TNT1 A 0 A_TakeInventory("AmAlreadyChoked",1)
			TNT1 A 0 A_TakeInventory("Chokeme",1)
			Goto Super::Disintegrate									
	}
}

Actor Doom_AI : SamsaraMonsterDarkSideAIRegular
{
	obituary "%o was fragged by a corrupted Doomguy."
    radius 14
    height 56
    health 1000	
    mass 220
    speed 8
	monster
	CameraHeight 40
	+FLOORCLIP	
	-FRIENDLY
	+NOINFIGHTING
	Maxstepheight 8
	cameraheight 45
    painsound "dgpain"
    deathsound "dgdeth"
    activesound "dgtaunt"
	States
    {	
	Spawn:
		DGUY A 5 A_Look
		loop
	See:
		DGUY AAAABBBBCCCCDDDD 1 A_FastChase
		Loop
    Missile:
		TNT1 A 0 A_Jump(48, "FireSlot4")
		DGUY E 1 A_FaceTarget
		DGUY VV 0 A_PlayWeaponSound("doomguy/shotgf")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 7, 5, "DoomBulletPuff")
		DGUY E 24 A_FaceTarget
		DGUY E 1 A_FaceTarget
		DGUY E 1 A_FaceTarget
		TNT1 A 0 A_Jump(128, "See")
		goto Missile
	FireSlot4:
		DGUY E 2 A_FaceTarget
		DGUY SS 0 A_PlayWeaponSound("doomguy/pistol")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "DoomBulletPuff")
		DGUY T 0 A_Jump(8,"See")
		DGUY E 2 A_FaceTarget
		DGUY SS 0 A_PlayWeaponSound("doomguy/pistol")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "DoomBulletPuff")
		DGUY T 0 A_Jump(8,"See")
		DGUY E 2 A_FaceTarget
		DGUY SS 0 A_PlayWeaponSound("doomguy/pistol")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "DoomBulletPuff")
		DGUY T 0 A_Jump(8,"See")
		DGUY E 2 A_FaceTarget
		DGUY SS 0 A_PlayWeaponSound("doomguy/pistol")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "DoomBulletPuff")
		DGUY T 0 A_Jump(8,"See")
		DGUY E 2 A_FaceTarget
		DGUY SS 0 A_PlayWeaponSound("doomguy/pistol")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "DoomBulletPuff")
		DGUY T 0 A_Jump(8,"See")
		DGUY E 2 A_FaceTarget
		DGUY SS 0 A_PlayWeaponSound("doomguy/pistol")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "DoomBulletPuff")
		DGUY T 0 A_Jump(8,"See")
		DGUY E 2 A_FaceTarget
		DGUY SS 0 A_PlayWeaponSound("doomguy/pistol")  
		DGUY F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "DoomBulletPuff")
		DGUY T 0 A_CPOSRefire
		goto FireSlot4	
	Pain:
		DGUY G 4 A_Pain
		goto See	
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0) 
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		DGUY T 0 A_Scream
		DGUY IJK 10
		DGUY L 10 A_NoBlocking
		DGUY M 10
		DGUY N -1
		stop
    Burn:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0) 
		TNT1 A 0 A_PlaySound("dgdethf", CHAN_VOICE)
        DBRN ABCDE 5 Bright
        DBRN FFGHHIIJJK 3 Bright
        DBRN LMNOP 5 Bright
        DBRN QR 4 Bright
        DBRN STU 6
        DBRN V -1
        stop
	XDeath:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0) 
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		DGUY O 5
        DGUY P 5 A_PlaySound("dgdethx", CHAN_VOICE)
        DGUY Q 5 A_NoBlocking
        DGUY RSTUV 5
        DGUY W -1
        Stop
	Death.DukeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-3,"DukeGibStart")		
	Death.DukeDamage:
	Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
		TNT1 A -1 A_Jump(256,"Death")
		wait
	Death.MightyBoot:
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
		TNT1 A -1 A_Jump(256,"Death")
		wait
	DukeGibStart:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("DukeGib_ColorSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Jump(96, 2)
		TNT1 A 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		wait
	Death.DukeIce:
		"####" "#" 0 A_PlaySound("duke/enemyfreeze")
		"####" "#" 0 A_GiveInventory("FreezethrowerWeakness")
		"####" "#" 0 A_Jump(218,"Ice")
		"####" "#" 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.DoomDamageTypeIce:
	Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 70 A_UnsetSolid
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		TNT1 A 0
		stop
	}	
}

Actor Doom64_AI : SamsaraMonsterDarkSideAIRegular
{
	obituary "%o was fragged by a corrupted Doomguy."
    radius 14
    height 56
    health 1000	
    mass 220
    speed 8
	monster
	Scale 0.75
	-FRIENDLY
	+FLOORCLIP	
	+NOINFIGHTING
	Maxstepheight 8
	cameraheight 45
    painsound "sounds/doom64/DG64PLPAIN.ogg"
    deathsound "sounds/doom64/DG64PLDETH.ogg"
    activesound "sounds/doom64/DG64TAUNT.ogg"
	States
    {	
    Spawn:
		64DG A 5 A_Look
		loop
	See:
		64DG AAAAABBBBBCCCCCDDDDD 1 A_FastChase
		Loop
    Missile:
		TNT1 A 0 A_Jump(48, "FireSlot4")
		64DG E 1 A_FaceTarget
		64DG V 0 A_PlayWeaponSound("doom64guy/shotgf")  
		64DG F 2 Bright A_CustomBulletAttack(5.6, 0, 7, 5, "Doom64BulletPuff")
		64DG E 24 A_FaceTarget
		64DG E 1 A_FaceTarget
		64DG E 1 A_FaceTarget
		TNT1 A 0 A_Jump(128, "See")
		goto Missile
	FireSlot4:
		64DG E 2 A_FaceTarget
		64DG S 0 A_PlayWeaponSound("doom64guy/chngun")  
		64DG F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "Doom64BulletPuff")
		64DG T 0 A_Jump(8,"See")
		64DG E 2 A_FaceTarget
		64DG S 0 A_PlayWeaponSound("doom64guy/chngun")  
		64DG F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "Doom64BulletPuff")
		64DG T 0 A_Jump(8,"See")
		64DG E 2 A_FaceTarget
		64DG S 0 A_PlayWeaponSound("doom64guy/chngun")  
		64DG F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "Doom64BulletPuff")
		64DG T 0 A_Jump(8,"See")
		64DG E 2 A_FaceTarget
		64DG S 0 A_PlayWeaponSound("doom64guy/chngun")  
		64DG F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "Doom64BulletPuff")
		64DG T 0 A_Jump(8,"See")
		64DG E 2 A_FaceTarget
		64DG S 0 A_PlayWeaponSound("doom64guy/chngun")  
		64DG F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "Doom64BulletPuff")
		64DG T 0 A_Jump(8,"See")
		64DG E 2 A_FaceTarget
		64DG S 0 A_PlayWeaponSound("doom64guy/chngun")  
		64DG F 2 Bright A_CustomBulletAttack(5.6, 0, 1, 5, "Doom64BulletPuff")
		64DG T 0 A_Jump(8,"See")
		64DG E 2 A_FaceTarget
		64DG T 0 A_CPOSRefire
		goto FireSlot4	
	Pain:
		64DG G 4 A_Pain
		goto See
	Death:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0) 
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		64DG H 11 A_Scream		
        64DG I 11 A_NoBlocking
        64DG J 11
        64DG KL 11
        64DG M -1
        Stop
    Burn:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0) 
		64DF A 0
		64DF A 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(12,42),random(-2,2),random(-2,2),random(0,3),random(-180,180),32)
		64DF A 1 A_PlaySound("Doom64Guy/burn", CHAN_BODY)
		64DF AAAA 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(11,37),random(-2,2),random(-2,2),random(0,3),random(-180,180),32)
		64DF B 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(10,32),random(-2,2),random(-2,2),random(0,3),random(-180,180),32)
		64DF B 1 A_NoBlocking
		64DF BBBB 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(10,32),random(-2,2),random(-2,2),random(0,3),random(-180,180),32)
		64DF C 3 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF CCCC 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF D 3 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF DDDD 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF E 3 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF EEEE 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF F 3 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF FFFF 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF FFFFFFFFFFFF 2 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF FFFFFFFFFFFF 3 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF FFFFFFFFFFFF 4 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF FFFFFFFFFFFF 5 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF FFFFFFFFFFFF 6 A_SpawnItemEx("Doom64GuyBurnFlame",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
		64DF F -1
        stop
	XDeath:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0) 
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		64DG N 6 A_PlaySound("Doom64Guy/crush", CHAN_VOICE)
		64DG O 6
		64DG P 6 A_NoBlocking
		64DG QRSTU 6
		64DG V -1
        Stop
	Death.DukeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-3,"DukeGibStart")		
	Death.DukeDamage:
	Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
		TNT1 A -1 A_Jump(256,"Death")
		wait
	Death.MightyBoot:
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
		TNT1 A -1 A_Jump(256,"Death")
		wait
	DukeGibStart:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("DukeGib_ColorSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Jump(96, 2)
		TNT1 A 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		wait
	Death.DukeIce:
		"####" "#" 0 A_PlaySound("duke/enemyfreeze")
		"####" "#" 0 A_GiveInventory("FreezethrowerWeakness")
		"####" "#" 0 A_Jump(218,"Ice")
		"####" "#" 0 A_GiveToTarget("DukeDMTauntDoomguy",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.DoomDamageTypeIce:
	Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 70 A_UnsetSolid
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		TNT1 A 0
		stop
	}
}