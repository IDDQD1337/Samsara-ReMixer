ACTOR AlienQueen
{
	Health 6000
	Radius 80
	Height 150
	Mass 1200
	Speed 12
	PainChance 16
	Scale 1.3
	MONSTER
	+BOSS
	+FLOORCLIP
    +NOTDMATCH
    +NOICEDEATH
	+NOINFIGHTING
    +THRUGHOST
	+DONTRIP
	+NOBLOODDECALS
	SeeSound "queen/sight"
	PainSound "queen/pain"
	DeathSound "queen/death"
	ActiveSound "queen/roam"
	AttackSound "queen/attack"
	Dropitem "DefaultPinataPop"
	Dropitem "DefaultPinataPop"
	Obituary "%o was shocked to death by the Alien Queen."
	DamageFactor "CorvusHellstaffTomed", 0.2	
    DamageFactor "Mace", 1.1
    DamageFactor "DragonClaw", 1.5
	DamageFactor "BJSpear", 0.4
	DamageFactor "Tesla", 0.1
	DamageFactor "Shock", 0.1
	DamageFactor "HLLaser", 0.8
	DamageFactor "CalebFire", 0.8
    DamageFactor "CalebBullet", 1.0	
	DamageFactor "Vodoo", 0.8
	DamageFactor "DisruptorWall", 0.4
	DamageFactor "EradNova", 0.4
    DamageFactor "EradGreenFire", 0.2	
    DamageFactor "EradCoopGreenFire", 0.2	
	DamageFactor "RottFire", 0.6	
	DamageFactor "WTRangedFire", 0.6	
	DamageFactor "Nuke", 0.6
	DamageFactor "SWNuke", 0.6
	DamageFactor "SWNukeCoop", 0.6
	DamageFactor "SWFlame", 0.2
	DamageFactor "SWFlameCoop", 0.2	
	DamageFactor "SWFlame2", 0.2
	DamageFactor "SWFlame2Coop", 0.2
	DamageFactor "SWFlame3", 0.5
    DamageFactor "RMR-BigPlasma", 0.4
	DamageFactor "CMDMGSHIT", 0.8	
	DamageFactor "Disintegrate", 0.8	
	DamageFactor "RottExplosive", 0.8
	DamageFactor "RottBullet", 1.0
	DamageFactor "C7Disintegrate", 0.5	
	PainChance "ShrinkerDMG", 0
	BloodType "DukeBloodQueen"
	Tag "Alien Queen"	
	BloodColor Green
	States
	{
		Spawn:
			QUEE A 0
			QUEE A 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
			QUEE A 1 ACS_ExecuteAlways(668,0,1,0)
			QUEE A 0 A_GiveInventory("AlreadySpawned",1)
			QUEE A 0 A_JumpIfInventory("InvisibleToken",1,2)
			QUEE A 0 A_Jump(256,2)
			QUEE A 0 A_ChangeFlag("STEALTH",1)
		Spawn2:
			QUEE A 5 A_Look
			Loop
		See:
			TNT1 A 0 A_JumpIfInventory("DukeBossSee",1,"See2")
			TNT1 A 0 A_GiveInventory("DukeBossSee",1)
			TNT1 A 0 A_GiveToTarget("DukeAlienQTaunt")
			TNT1 A 0 A_GiveToTarget("EleenaBossSightTaunt")
			TNT1 A 0 A_GiveToTarget("LoWangBossSightTaunt")
			TNT1 A 0 A_GiveToTarget("LeonardBossSightTaunt")
			TNT1 A 0 A_GiveToTarget("CalebBossSightTaunt")
			TNT1 A 0 A_GiveToTarget("HLBossSightMusicQueue")
		See2:
			QUEE AAAA 2 A_Chase("","Missile",CHF_NOPLAYACTIVE)
			QUEE B 2 A_Chase
			QUEE B 2 A_Chase
			QUEE B 2 A_Chase("","Missile",CHF_NOPLAYACTIVE)
			QUEE B 2 A_Chase
			TNT1 A 0 A_PlaySound("duke/thud",CHAN_BODY)	
			QUEE CCCC 2 A_Chase("","Missile",CHF_NOPLAYACTIVE)
			QUEE D 2 A_Chase
			QUEE D 2 A_Chase
			QUEE D 2 A_Chase("","Missile",CHF_NOPLAYACTIVE)
			QUEE D 2 A_Chase
			TNT1 A 0 A_PlaySound("duke/thud",CHAN_BODY)	
			Loop
		Missile:
			TNT1 A 0 A_TakeInventory("QueenAttackToken",5)
			//TNT1 A 0 A_JumpIfCloser(100,"Stomp")
			TNT1 A 0 A_Jump (120, "Birth")
			TNT1 A 0 A_PlaySound("queen/attack", CHAN_WEAPON)
		Attack:
			//TNT1 A 0 A_JumpIfInventory("QueenAttackToken",5,"See")
			QUEE EEEEEEEEEE 1 A_FaceTarget
		AttackLoop:
			//TNT1 A 0 A_JumpIfInventory("QueenAttackToken",5,"See")
			//TNT1 A 0 A_GiveInventory("QueenAttackToken",1)
			QUEE F 1 Bright A_CustomMissile("DoomEnemyBullet",32,0,frandom(-2.00,2.00),8)
			QUEE FFFF 1
			QUEE GGGGG 1 A_FaceTarget
			QUEE F 1 Bright A_CustomMissile("DoomEnemyBullet",32,0,frandom(-2.50,2.50),8)
			QUEE FFFF 1
			QUEE GGGGG 1 A_FaceTarget
			QUEE F 1 Bright A_CustomMissile("DoomEnemyBullet",32,0,frandom(-2.00,2.00),8)
			QUEE FFFF 1
			QUEE GGGGG 1 A_FaceTarget
			QUEE F 1 Bright A_CustomMissile("DoomEnemyBullet",32,0,frandom(-2.50,2.50),8)
			QUEE FFFF 1
			QUEE GGGGG 1 A_FaceTarget
			QUEE F 1 Bright A_CustomMissile("DoomEnemyBullet",32,0,frandom(-2.00,2.00),8)
			QUEE FFFF 1
			QUEE GGGGG 1 A_FaceTarget
			TNT1 A 0 A_Jump(80,"See") //So, this makes queen less useless and crappy
			Goto AttackLoop
		Stomp:
			TNT1 A 0 A_Explode(1000,100,0,0)
			Goto See2
		Birth:
			TNT1 A 0 A_PlaySound("queen/birth", CHAN_WEAPON)
			QUEE HI 40
			QUEE J 40 A_SpawnItemEx("NewProtectorDrone",0,-128,0)
			goto See2
		Pain:
			QUEE K 2
			QUEE K 2 A_Pain
			Goto See2
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:
		Death.LifeLeech:
		Death.CalebNapalm:
		Death.Shock:	  
		Death.Vodoo:
		Death.Tesla:
		Death.CalebFire:	
		Death.CalebBullet:	
			TNT1 A 0 A_Jump(218, "Death")
			TNT1 A 0 A_GiveToTarget("CalebDMTaunt3", 1)
			Goto Death
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:	
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
			TNT1 A 0 A_Jump(218, "Death")
			TNT1 A 0 A_GiveToTarget("EleenaDMTaunt2", 1)
			Goto Death
		Death.DukeDamage:
		Death.DukeSpectral:
		Death.MightyBoot:
		Death.DukeExplosive:
		Death.DukeIce:
		Death.DukePistol:
			TNT1 A 0 A_GiveToTarget("DukeBossKillTaunt",1)
			Goto Death
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
		Death.PSBullet:
		Death.PSFire:	
			TNT1 A 0 A_Jump(218, "Death")
			TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
			Goto Death
		Death.LeonardDamage2:
		Death.LeonardDamage3:
		Death.LeonardDamage0:
		Death.LeonardDamage1:	
			TNT1 A 0 A_Jump(218, "Death")
			TNT1 A 0 A_GiveToTarget("LeonardDMTaunt2", 1)
			Goto Death
		Death.SWFist:
		Death.SWKatana:
		Death.SWShuriken:
		Death.SWSticky:
		Death.SWStickyCoop:		
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
		Death.SWBullet:	  
			TNT1 A 0 A_Jump(218, "Death")
			TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2", 1)
			goto Death
		Death:
		XDeath:
			TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			QUEE K 10 A_Scream
			QUEE L 10 A_NoBlocking
			QUEE MNOPQRST 10 
			QUEE T 20
			QUEE T -1 A_KillMaster
			Stop
		Death.ZorchPistol:
		Death.Zorch:
		Death.ZorchKamikaze:
		Death.PhasingZorch:
		Death.ZorchSpectral:
			"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			"####" "#" 0 A_Stop
			"####" "#" 0 A_ChangeFlag("DONTGIB",1)
			"####" "#" 0 A_PlaySoundEx("chex/zorchhuge","soundslot5",0,0)
			"####" "#" 3 A_SpawnItem("ZorchEffectHuge")
			"####" "#" 0 A_GiveInventory("EnemyZorched",1)
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 A_Scream
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 A_NoBlocking
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 3 A_SetTranslucent(0.4,0)
			"####" "#" 3 A_SetTranslucent(0.3,0)
			"####" "#" 3 A_SetTranslucent(0.2,0)
			"####" "#" 3 A_SetTranslucent(0.1,0) 
			TNT1 A 1 A_SetTranslucent(1,0)
			"####" "#" 0 A_KillMaster
			stop
		Death.RottDisintegrate:
			"####" "#" 0 A_ChangeFlag("SOLID", 0)
			"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			"####" "#" 0 A_Scream
			"####" "#" 0 A_NoBlocking	
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 0 A_Stop
			"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
			"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
			"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
			"####" "#" 0 A_SpawnItem("RGodModeDeathHuge")
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.4,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.3,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.2,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.1,0)
			TNT1 A 0 A_KillMaster
			stop
		Disintegrate:
			"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			"####" "#" 0 A_NoBlocking
			"####" "#" 0 A_ChangeFlag("DONTGIB",1)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 0 A_Scream
			"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
			"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
			"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
			"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
			"####" "#" 0 A_Stop
			"####" "#" 3 A_SpawnItem("DisintEffectHuge",0,10)
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.4,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.3,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.2,0)
			"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
			"####" "#" 2 A_SetTranslucent(0.1,0)
			"####" "#" 0 A_KillMaster
			stop
		Death.Nuke:
			"####" "#" 0 A_ChangeFlag("SOLID", 0)
			"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
			"####" "#" 0 A_Scream
			"####" "#" 0 A_NoBlocking		
			"####" "#" 0 A_SpawnItem("WTNukeDeathHuge")
			"####" "#################" 3 A_Fadeout(0.05)
			TNT1 A 0 A_KillMaster
			stop
	}
}

ACTOR AlienQueenDoom : AlienQueen
{
	Tag "Alien Queen"
	Height 100
	Scale 1.1
	States
	{
		Birth:
			TNT1 A 0 A_PlaySound("queen/birth", CHAN_WEAPON)
			QUEE HI 40
			QUEE J 40 A_SpawnItemEx("NewProtectorDroneDoom",0,-128,0)
			goto See2
	}
}

ACTOR MultiAlienQueenDoom : AlienQueenDoom
{
	Species "AlienQueen"
	+THRUSPECIES
}