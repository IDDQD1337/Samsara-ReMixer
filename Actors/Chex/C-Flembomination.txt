ACTOR Flembomination2
{
	Tag "Flembomination"
	Health 3500
	Radius 100
	Height 100
	Mass 1000
	DamageFactor "Normal", 0.8
    DamageFactor "LeonardDamage0", 0.7		
    DamageFactor "LeonardDamage1", 0.7	
    DamageFactor "LeonardDamage3", 0.7		
	DamageFactor "SWBullet", 0.7	
	DamageFactor "MarathonShotgun", 0.7
	DamageFactor "CalebBullet", 0.7
	DamageFactor "RottBullet", 0.7			
	damagefactor "BFG", 0.75
    damagefactor "BFGSpray", 0.75
    damagefactor "Flem", 0.0
    damagefactor "Slime", 0.0  //in chex3.exe the slam now has slime damagetype
    PainChance "MarathonFusion", 0
	Speed 12
	PainChance 40
	PainChance "ShrinkerDMG", 0
	Monster
	MinMissileChance 160
	+BOSS
	+MISSILEMORE
	+FLOORCLIP
	+NORADIUSDMG
	+DONTMORPH
	+BOSSDEATH
	+DONTGIB
    +NOTDMATCH
    +NOTARGET
	+DONTRIP	
    +NOINFIGHTING
    //+NOBLOODDECALS
	SeeSound "cqspider/sight"
	AttackSound "cqspider/attack"
	PainSound "cqspider/pain"
	DeathSound "cqspider/death"
	ActiveSound "cqspider/active"
	Obituary "$OB_FLEMBOMINATION"
    Bloodcolor "Green"
    DamageFactor "LeonardDamage0", 0.7		
    DamageFactor "LeonardDamage1", 0.7	
    DamageFactor "LeonardDamage3", 0.7		
	DamageFactor "SWBullet", 0.7	
	DamageFactor "MarathonShotgun", 0.7
	DamageFactor "CalebBullet", 0.7
	DamageFactor "RottBullet", 0.7		
	States
	{
	Spawn:
		SPIC A 0
		SPIC A 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		SPIC A 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		SPIC A 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		SPIC ABCD 6 A_Look
		Loop
	See:
        TNT1 A 0 A_JumpIfInventory("DukeBossSee",1,"See2")
        TNT1 A 0 A_GiveInventory("DukeBossSee",1)
        TNT1 A 0 A_GiveToTarget("DukeBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("EleenaBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("LoWangBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("LeonardBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("CalebBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("HLBossSightMusicQueue")
    See2:
		SPIC A 3 A_PlaySound("cqcyber/hoof",CHAN_BODY,1.0,0,ATTN_NONE)
		SPIC ABBCC 3 A_Chase
		SPIC D 3 A_PlaySound("cqspider/walk",CHAN_BODY,1.0,0,ATTN_NONE)
		SPIC D 3 A_Chase
		Loop
	Missile:
		SPIC F 20 A_FaceTarget 
		SPIC G 8 A_CustomComboAttack("CycloptisBall2", 32, random[headattack](1,6)*10, "", "flem")
 		SPIC H 8 A_CustomComboAttack("CycloptisBall2", 32, random[headattack](1,6)*10, "", "flem")
		Goto Missile
	Pain:
        TNT1 AAAA 0 A_SpawnDebris("FlemoidGib",1)
		SPIC I 3
		SPIC I 3 A_Pain
		Goto See
	Pain.Zorch:
	Pain.ZorchPistol:
	Pain.PhasingZorch:
	Pain.ZorchKamikaze:
		SPIC I 3
		TNT1 A 0 A_CustomMissile("FlemSporeSummonball",0,0,0)
		TNT1 A 0 A_CustomMissile("FlemSporeSummonball",0,0,0)
		SPIC I 3 A_Pain
		Goto See
	Death.Zorch:
	Death.ZorchPistol:
	Death.PhasingZorch:
	Death.ZorchKamikaze:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		SPIC J 20 A_Scream
		SPIC K 10 A_NoBlocking
		SPIC LMNOPQR 10
		SPIC S 30
		SPIC S -1 A_KillMaster
		Stop
	Death.DukeDamage:
	Death.MightyBoot:
	Death.DukeExplosive:
	Death.DukeIce:
	Death.DukePistol:
		TNT1 A 0 A_GiveToTarget("DukeBossKillTaunt",1)
	Death:
        TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)	
		SPIC J 20 A_Scream		
		SPIC K 10 A_NoBlocking
		SPIC LMNOPQR 10
		SPIC S 30
		SPIC S -1 A_KillMaster    
		Stop
	}
}

ACTOR MultiFlembomination2 : Flembomination2
{
	Species "Flembomination"
	+THRUSPECIES
}

ACTOR FlembominationNew
{
	Tag "Flembomination"
	Health 3500
	Radius 100
	Height 100
	Mass 1000
	DamageFactor "Normal", 0.8
    DamageFactor "LeonardDamage0", 0.7		
    DamageFactor "LeonardDamage1", 0.7	
    DamageFactor "LeonardDamage3", 0.7		
	DamageFactor "SWBullet", 0.7	
	DamageFactor "MarathonShotgun", 0.7
	DamageFactor "CalebBullet", 0.7
	DamageFactor "RottBullet", 0.7		
	damagefactor "BFG", 0.75
    damagefactor "BFGSpray", 0.75
    damagefactor "Flem", 0.0
    damagefactor "Slime", 0.0  //in chex3.exe the slam now has slime damagetype
    PainChance "MarathonFusion", 0
	Speed 12
	PainChance 40
	Monster
	MinMissileChance 160
	+BOSS
	+MISSILEMORE
	+FLOORCLIP
	+NORADIUSDMG
	+DONTMORPH
	+BOSSDEATH
	+DONTGIB
    +NOTDMATCH
    +NOTARGET
	+DONTRIP	
    +NOINFIGHTING
    //+NOBLOODDECALS
	SeeSound "cqspider/sight"
	AttackSound "cqspider/attack"
	PainSound "cqspider/pain"
	DeathSound "cqspider/death"
	ActiveSound "cqspider/active"
	//DropItem "DefaultPinataPop"
	//DropItem "DefaultPinataPop"
	Obituary "$OB_FLEMBOMINATION"
    Bloodcolor "Green"
    DamageFactor "LeonardDamage0", 0.7		
    DamageFactor "LeonardDamage1", 0.7	
    DamageFactor "LeonardDamage3", 0.7		
	DamageFactor "SWBullet", 0.7	
	DamageFactor "MarathonShotgun", 0.7
	DamageFactor "CalebBullet", 0.7
	DamageFactor "RottBullet", 0.7		
	States
	{
	Spawn:
		SPIC A 0
		SPIC A 1 A_JumpIfInventory("AlreadySpawned",1,"Spawn2")
		SPIC A 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		SPIC A 0 A_GiveInventory("AlreadySpawned",1)
	Spawn2:
		SPIC ABCD 6 A_Look
		Loop
	See:
        TNT1 A 0 A_JumpIfInventory("DukeBossSee",1,"See2")
        TNT1 A 0 A_GiveInventory("DukeBossSee",1)
        TNT1 A 0 A_GiveToTarget("DukeBossSightTaunt")
    See2:
		SPIC A 3 A_PlaySoundEx("cqcyber/hoof","SoundSlot5",0,2)
		SPIC ABBCC 3 A_Chase
		SPIC D 3 A_PlaySoundEx("cqspider/walk","SoundSlot5",0,2)
		SPIC D 3 A_Chase
		Loop
	Missile:
		SPIC F 10 A_FaceTarget 
		TNT1 A 0 A_CustomMissile("BipedicusBallV3",40,0,40,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SnotfolusBall3",40,0,80,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SlimeGrenade2",40,0,120,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("BipedicusBallV3",40,0,160,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SnotfolusBall3",40,0,200,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SlimeGrenade2",40,0,240,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("BipedicusBallV3",40,0,280,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SnotfolusBall3",40,0,320,0,random(-20,20))
		SPIC G 1 A_FaceTarget	
		SPIC G 7 A_CustomMissile("MaximusBall3",40,48,0,0,random(-20,20))//A_CustomComboAttack("FlembomBall", 40, random[headattack](1,6)*10, "", "flem")
		TNT1 A 0 A_CustomMissile("SlimeGrenade2",40,0,40,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("BipedicusBallV3",40,0,80,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SnotfolusBall3",40,0,120,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SlimeGrenade2",40,0,160,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("BipedicusBallV3",40,0,200,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SnotfolusBall3",40,0,240,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("SlimeGrenade2",40,0,280,0,random(-20,20))
		TNT1 A 0 A_CustomMissile("BipedicusBallV3",40,0,320,0,random(-20,20))
		SPIC H 1 A_FaceTarget			
 		SPIC H 7 A_CustomMissile("MaximusBall3",40,-48,0,0,random(-20,20))
		TNT1 A 0 A_MonsterRefire(45,"See")
		Goto Missile
	Pain.Zorch:
	Pain.ZorchPistol:
	Pain.PhasingZorch:
	Pain.ZorchKamikaze:
		SPIC I 3
		SPIC I 3 A_Pain
		Goto See
	Pain:
        TNT1 AAAA 0 A_SpawnDebris("FlemoidGib",1)
		SPIC A 3
		SPIC A 3 A_Pain
		Goto See
    Death.Vodoo:
	Death.VoodooPuff:
	Death.DynamiteCoop:
	Death.Dynamite:
	Death.LifeLeech:
	Death.CalebNapalm:
	Death.Shock:	  
	Death.Vodoo:
	Death.Tesla:
	Death.CalebFire:	
	Death.CalebBullet:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt3", 1)
		Goto Death
	 Death.EradExplosive:
	 Death.EradNova:
	 Death.EradShock:
	 Death.EradExplosive2:	
	 Death.EradDisc:
	 Death.EradPiercingDart:
	 Death.EradGreenFire:
	 Death.EradCoopGreenFire:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt2", 1)
		Goto Death  
	Death.DukeDamage:
    Death.MightyBoot:
    Death.DukeExplosive:
    Death.DukeIce:
    Death.DukePistol:
        TNT1 A 0 A_GiveToTarget("DukeBossKillTaunt",1)
		Goto Death
	  Death.PSRAPowerCoop:
	  Death.PSExplosive:
	  Death.PSExplosiveCoop:
	  Death.PSBullet:
	  Death.PSFire:	
		 TNT1 A 0 A_Jump(218, "Death")
		 TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		 Goto Death
	  Death.LeonardDamage2:
	  Death.LeonardDamage3:
	  Death.LeonardDamage0:
	  Death.LeonardDamage1:	
		 TNT1 A 0 A_Jump(218, "Death")
		 TNT1 A 0 A_GiveToTarget("LeonardDMTaunt2", 1)
		 Goto Death
	  Death.SWFist:
	  Death.SWKatana:
	  Death.SWShuriken:
	  Death.SWSticky:
	  Death.SWStickyCoop:	  
	  Death.SWGrenade:
	  Death.SWNuke:
	  Death.SWRocket:
	  Death.SWRailgun:
	  Death.SWRailgunCoop:
	  Death.SWNukeCoop:
	  Death.SWFlame:
	  Death.SWFlame2:
	  Death.SWFlame2Coop:
	  Death.SWFlame3:	
	  Death.SWBullet:	  
		 TNT1 A 0 A_Jump(218, "Death")
		 TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2", 1)
		 goto Death
	Death:
	XDeath:
        TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        TNT1 A 0 A_PlaySound("flemdie")
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-1,1),random(46,50),random(56,62),random(-2,2),random(-2,2),random(5,10))
		SPIC A 10
        TNT1 A 0 A_PlaySound("flemdie")
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-1,1),random(-46,-50),random(12,24),random(-2,2),random(-2,2),random(5,10))
		SPIC A 10
        TNT1 A 0 A_PlaySound("flemdie")
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-1,1),random(-5,5),random(56,62),random(-2,2),random(-2,2),random(5,10))
		SPIC A 10
        TNT1 A 0 A_PlaySound("flemdie")
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-1,1),random(-46,-50),random(34,50),random(-2,2),random(-2,2),random(5,10))
		SPIC A 10
        TNT1 A 0 A_PlaySound("flemdie")
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-1,1),random(46,50),random(5,12),random(-2,2),random(-2,2),random(5,10))
		SPIC A 10
        TNT1 A 0 A_PlaySound("flemdie")
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-1,1),random(46,50),random(34,50),random(-2,2),random(-2,2),random(5,10))
		SPIC A 10
        TNT1 A 0 A_PlaySound("flemdie")
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-1,1),random(-46,-50),random(56,62),random(-2,2),random(-2,2),random(5,10))
		SPIC A 10
        TNT1 A 0 A_PlaySound("flemdie2",CHAN_BODY,1.0,0,ATTN_NONE)
        TNT1 AAAA 0 A_CustomMissile("QuadrumpusArm1",random(20,40),random(-50,50),random(-45,-135),2,random(0,90))
        TNT1 AAAAA 0 A_CustomMissile("QuadrumpusArm2",random(20,40),random(-50,50),random(45,135),2,random(0,90))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-10,10),random(-55,55),random(16,56),random(-2,2),random(-2,2),random(5,25))
        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-10,10),random(-55,55),random(16,56),random(-2,2),random(-2,2),random(5,20))
        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-10,10),random(-55,55),random(16,56),random(-2,2),random(-2,2),random(5,25))
        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("FlemoidGib",random(-10,10),random(-55,55),random(16,56),random(-2,2),random(-2,2),random(5,20))
		FLBD VWXY 5 A_NoBlocking
		FLBD Z -1 A_KillMaster
		stop
	Death.Zorch:
	Death.ZorchPistol:
	Death.PhasingZorch:
	Death.ZorchKamikaze:
        TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)	
		SPIC J 20 A_Scream
		SPIC K 10 A_NoBlocking
		SPIC LMNOPQR 10
		SPIC S 30
		SPIC S -1 A_KillMaster    
		Stop
	Death.DukeIce:
        "####" "#" 0 A_GiveToTarget("DukeBossKillTaunt",1)
    Ice:
    Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
    Death.Ice:
        "####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
        "####" "#" 0 A_NoBlocking
        "####" "#" 0 A_GenericFreezeDeath
        "####" "#" 0 A_UnsetShootable
        "####" "#" 140 A_UnsetSolid
        "####" "#" 0 A_PlaySoundEx("freeze/break","soundslot6",0,0)
        "####" "##########################################################################################" 0 A_SpawnItemEx("IceChunk2",random(-1,1),random(-1,1),random(16,96),random(-2,2),random(-2,2),random(5,15))
        "####" "#" 0 A_IceGuyDie
        "####" "#" 1 A_IceGuyDie
        TNT1 A 0 A_KillMaster
        stop
	Death.RottDisintegrate:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking	
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_SpawnItem("RGodModeDeathHuge")
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		"####" "#" 0 A_KillMaster
		stop
	Disintegrate:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectHuge",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
        "####" "#" 0 A_KillMaster
        stop
	Death.Nuke:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking		
		"####" "#" 0 A_SpawnItem("WTNukeDeathHuge")
		"####" "#################" 3 A_Fadeout(0.05)
		TNT1 A 0 A_KillMaster
		stop
	}
}

ACTOR MultiFlembominationNew : FlembominationNew
{
	Species "Flembomination"
	+THRUSPECIES
}