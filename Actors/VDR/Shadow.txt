ACTOR MMRandomizer_Shadow
{
	Health 80
	Radius 20
	Height 56
	Mass 100
	RenderStyle "Translucent"
	Alpha 0.7
	Speed 8
	PainChance 200
	Monster
	+FLOORCLIP
	PainSound "VDR/Shadow/pain"
	DeathSound "VDR/Shadow/death"
	ActiveSound "VDR/Shadow/active"
	Obituary "%o was assassinated by a shadow."
	MissileType MMRandomizer_ShadowBall
	States
	{
		Spawn:
			VD36 E 15 A_Look
		See:
			VD36 E 15
			VD36 AAA 1 A_Chase
			VD36 A 0 A_SpawnItemEx("MMRandomizer_ShadowGhostA", 0, 0, 0, 0, 0, 0, 0, 128)
			VD36 BBB 1 A_Chase
			VD36 B 0 A_SpawnItemEx("MMRandomizer_ShadowGhostB", 0, 0, 0, 0, 0, 0, 0, 128)
			VD36 CCC 1 A_Chase
			VD36 C 0 A_SpawnItemEx("MMRandomizer_ShadowGhostC", 0, 0, 0, 0, 0, 0, 0, 128)
			VD36 DDD 1 A_Chase
			VD36 D 0 A_SpawnItemEx("MMRandomizer_ShadowGhostD", 0, 0, 0, 0, 0, 0, 0, 128)
			VD36 AAA 1 A_Chase
			VD36 A 0 A_SpawnItemEx("MMRandomizer_ShadowGhostA", 0, 0, 0, 0, 0, 0, 0, 128)
			VD36 BBB 1 A_Chase
			VD36 B 0 A_SpawnItemEx("MMRandomizer_ShadowGhostB", 0, 0, 0, 0, 0, 0, 0, 128)
			VD36 CCC 1 A_Chase
			VD36 C 0 A_SpawnItemEx("MMRandomizer_ShadowGhostC", 0, 0, 0, 0, 0, 0, 0, 128)
			VD36 DDD 1 A_Chase
			VD36 D 0 A_SpawnItemEx("MMRandomizer_ShadowGhostD", 0, 0, 0, 0, 0, 0, 0, 128)
			Goto See+1
		Missile:
			VD36 EEEEEEEEEEEEEEE 2 A_FaceTarget
			VD36 F 5 A_FaceTarget
			VD36 G 5 BRIGHT A_MissileAttack
			VD36 F 5 A_FaceTarget
			VD36 EEEEEEEEEE 2 A_FaceTarget
			VD36 E 1 A_SpidRefire
			Goto Missile+15     
		Pain:
			VD36 H 4
			VD36 H 4 A_Pain
			Goto See+1
		Death:
			VD36 I 6 A_Scream
			VD36 J 5
			VD36 K 5 A_SpawnItemEx("MMRandomizer_Shadowtorso", 0, 0, 0, 1, 0, 0, 0, 128)
			VD36 L 5 A_Fall
			VD36 MNO 6 
			VD36 P -1
			Stop
		XDeath:
			VD37 A 8
			VD37 B 6 A_XScream
			VD37 C 6 
			VD37 D 6 A_Fall
			VD37 E 6
			VD37 F 6
			VD37 G -1
			Stop
		Raise:
			VD36 M 8
			VD36 KLJI 8
			Goto See
	}
}

ACTOR MMRandomizer_ShadowBall
{
	Radius 6
	Height 8
	Speed 12
	Damage 4
	Projectile
	+RANDOMIZE
	RenderStyle "ADD"
	Alpha 0.75
	SeeSound "Shadow/attack"
	DeathSound "imp/shotx"
	Decal DoomImpScorch
	States
	{
		Spawn: 
			VE03 ABC 4 BRIGHT A_SpawnItemEx("MMRandomizer_ShadowTrail", 0, 0, 0, 0, 0, 0, 0, 128)
			Loop
		Death:
			VE03 C 5 Bright
			VE03 DEFGH 4 BRIGHT
			Stop
	}
}

ACTOR MMRandomizer_ShadowGhostA
{
	Radius 4
	Height 8
	Speed 0
	Damage 0
	Mass 75
	RenderStyle "Translucent"
	Alpha 0.3
	PROJECTILE
	States
	{
		Spawn:
			VD36 A 10
			Stop
	}
}

ACTOR MMRandomizer_ShadowGhostB : MMRandomizer_ShadowGhostA
{
	States
	{
		Spawn:
			VD36 B 10
			Stop
	}
}

ACTOR MMRandomizer_ShadowGhostC : MMRandomizer_ShadowGhostA
{
	States
	{
		Spawn:
			VD36 C 10
			Stop
	}
}

ACTOR MMRandomizer_ShadowGhostD : MMRandomizer_ShadowGhostA
{
	States
	{
		Spawn:
			VD36 D 10
			Stop
	}
}

ACTOR MMRandomizer_Shadowtorso
{
	Radius 12
	Height 15
	Speed 1
	Mass 5000
	RenderStyle "Translucent"
	alpha 0.7
	+DOOMBOUNCE
    States
	{
		Spawn:
			VD36 QRS 5
			VD36 T 5 A_Fall
			VD36 U 5
			VD36 V -1
			Stop
	}
}

actor MMRandomizer_ShadowTrail
{
    Radius 1
    Height 1
    Speed 0
    PROJECTILE
    RENDERSTYLE ADD
    ALPHA 0.6
    +NOCLIP
    States
    {
		Spawn:
			VE03 IJKLMN 4 Bright
			Stop       
    }
}

