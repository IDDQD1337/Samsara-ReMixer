Actor WTIllwhyrin
{
	Species "Enemies"
	MONSTER	
	Radius 40
	Height 58
	Health 4350
	Scale 0.55
	+NOPAIN
	+BOSS
	+BOSSDEATH
    +THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+QUICKTORETALIATE
	+ACTIVATEMCROSS
	+CANPASS	
	+FLOORCLIP
	+CANPUSHWALLS
	+CANUSEWALLS
    +NOTDMATCH
	+DONTRIP	
	+NOINFIGHTING
	Tag "Illwhyrin"
	Speed 13
	Mass 3000
	SeeSound "illwhyrin/see"
	ActiveSound "illwhyrin/see"
	PainSound ""
	DeathSound "illwhyrin/die"
	Obituary "%o was cursed by Illwhyrin."
    PainChance "MightyBoot", 0
	PainChance "MarathonStun", 0
	PainChance "ShrinkerDMG", 0
    DamageFactor "Mace", 1.3
	DamageFactor "CorvusHellstaffTomed", 0.2
    DamageFactor "CorvusCrossbow", 1.1	
    DamageFactor "DragonClaw", 1.5
	DamageFactor "MarathonShotgun", 1.0
	DamageFactor "MarathonPlasmaFire", 0.8
	DamageFactor "MarathonFusion", 0.9
    DamageFactor "WMCNade", 0.8
    DamageFactor "BJSpear", 0.3
	DamageFactor "DCannonProj", 0.8	
	DamageFactor "Tesla", 0.65
	DamageFactor "Shock", 0.3
	DamageFactor "LifeLeech", 0.3		
	DamageFactor "CalebFire", 0.6	
	DamageFactor "Vodoo", 0.1	
	DamageFactor "DisruptorWall", 0.35
	DamageFactor "EradNova", 0.25
    DamageFactor "EradGreenFire", 0.1
    DamageFactor "EradCoopGreenFire", 0.1
	DamageFactor "RottFire", 0.6
	DamageFactor "HLLaser", 0.42
	DamageFactor "WTRangedFire", 0.1
	DamageFactor "Nuke", 0.2
	DamageFactor "SWNuke", 0.1
	DamageFactor "SWNukeCoop", 0.1
	DamageFactor "SWFlame", 0.1
	DamageFactor "SWFlameCoop", 0.1
	DamageFactor "SWFlame2", 0.1
	DamageFactor "SWFlame2Coop", 0.1
	DamageFactor "SWFlame3", 0.3
    DamageFactor "RMR-BigPlasma", 0.4
	DamageFactor "CMDMGSHIT", 0.8	
	DamageFactor "Disintegrate", 0.7	
	DamageFactor "FireExplosive", 0.75
	DamageFactor "C7Disintegrate", 0.5	
	DamageFactor "Ice", 0.7
	DamageFactor "Fire", 0.7	
	States
	{
	Spawn:
		WH_W A 0
		WH_W A 1 A_JumpIfInventory("AlreadySpawned",1,"SpawnStandard")
		WH_W A 1 ACS_NamedExecuteAlways("ReMixerSpawnScript",0,1,0)
		WH_W A 0 A_GiveInventory("AlreadySpawned",1)
	SpawnStandard:
		WH_W A 5 A_Look
		Loop	
	See:
	    TNT1 A 0 A_JumpIfInventory("SawPlayer", 1, "SeenPlayer")
	    TNT1 A 0 A_GiveInventory("SawPlayer", 1)
		TNT1 A 0 A_GiveToTarget("EleenaBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("LoWangBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("LeonardBossSightTaunt")					
		TNT1 A 0 A_GiveToTarget("DukeBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("CalebBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("HLBossSightMusicQueue")
		WH_W BCDE 4 
	SeenPlayer:
		WH_W F 3 A_Chase
		WH_W F 3 A_Chase("","",CHF_NOPLAYACTIVE)
		WH_W G 3 A_Chase("","",CHF_NOPLAYACTIVE)
		WH_W G 3 A_Chase
		WH_W H 3 A_Chase
		WH_W H 3 A_Chase("","",CHF_NOPLAYACTIVE)
		WH_W I 3 A_Chase("","",CHF_NOPLAYACTIVE)
		WH_W I 3 A_Chase
		Loop
	Idle:
		WH_W F 5 A_Look
		Loop
	Missile:
		TNT1 A 0 A_Jump(25,"TeleportV")	
		TNT1 A 0 A_Jump(200,"SafeCheck1")
		TNT1 A 0 A_JumpIfCloser(449,"IceSpell")
	SafeCheck1:
		TNT1 A 0 A_Jump(220,"SafeCheck2")
		TNT1 A 0 A_JumpIfCloser(536,"NukeSpell")
	SafeCheck2:	
		TNT1 A 0 A_Jump(90,"SummonWisp")
		TNT1 A 0 A_Jump(150,"SummonIceArrows")
		WH_W MMMNNNOOOPPP 2 A_FaceTarget
		WH_W QQQRRRSSSTTTUUUVVVWWW 2 A_FaceTarget
		TNT1 A 0 A_PlaySound("illwhyrin/spell",CHAN_WEAPON,1.0,0,ATTN_NORM)				
	FireSpell:	
		WH_W X 2 A_CustomMissile("WTFireMaceBall_Enemy_2",65,20)
		TNT1 A 0 A_FaceTarget		
		WH_W Y 2 A_CustomMissile("WTFireMaceBall_Enemy_2",65,-20)
		TNT1 A 0 A_FaceTarget
		TNT1 A 0 A_Jump(20,"SeenPlayer")
		TNT1 A 0 A_MonsterRefire(20,"SeenPlayer")
		Goto FireSpell
	IceSpell:
		WH_W JJJKKKLLL 2 A_FaceTarget
		TNT1 A 0 A_PlaySound("illwhyrin/spell",CHAN_WEAPON,1.0,0,ATTN_NORM)				
		WH_W M 2 A_CustomMissile("IllwhyrinBlizzard",0,0,0,CMF_TRACKOWNER)
		WH_W M 2
		WH_W NNNOOOPPP 2
		Goto SeenPlayer
	NukeSpell:
		WH_W QQQRRRSSSTTT 2 A_FaceTarget
		TNT1 A 0 A_PlaySound("illwhyrin/spell",CHAN_WEAPON,1.0,0,ATTN_NORM)				
		WH_W U 2 A_CustomMissile("IllwhyrinExplosion",0,0,0,CMF_TRACKOWNER)
		WH_W U 2
		WH_W VVVWWWXXXYYY 2
		Goto SeenPlayer
	SummonWisp:
		WH_W QQRRSSTT 2 A_FaceTarget 		
		TNT1 A 0 A_PlaySound("illwhyrin/spell",CHAN_WEAPON,1.0,0,ATTN_NORM)				
		WH_W U 2 A_SpawnItemEx("WTWillOWisp_2",0,64,70,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG)
		TNT1 A 0 A_FaceTarget
		WH_W U 2 A_SpawnItemEx("WTWillOWisp_2",0,-64,70,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG)
		WH_W VVWWXXYY 2
		Goto SeenPlayer
	SummonIceArrows:
		WH_W JJJKKKLLL 2 A_FaceTarget
		TNT1 A 0 A_PlaySound("illwhyrin/spell",CHAN_WEAPON,1.0,0,ATTN_NORM)		
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,3)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,-3)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,6)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,-6)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,9)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,-9)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,12)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,-12)
		WW62 N 0 A_CustomMissile("WTSpellArrow_Enemy",20,0,15)		
		WH_W M 2 A_CustomMissile("WTSpellArrow_Enemy",20,0,-15)
		WH_W M 2 A_FaceTarget
		WH_W NNNOOOPPP 2
		Goto SeenPlayer		
	TeleportV:	
		TNT1 A 0 A_PlaySound("illwhyrin/teleport",CHAN_BODY,1.0,0,ATTN_NORM)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_UnsetShootable	
		TNT1 A 1 A_SpawnItemEx("WTFireMaceTrail",0,0,0,frandom(-5.00,5.00),frandom(-8.00,8.00),frandom(10.00,1.00))
		TNT1 A 1 A_SpawnItemEx("WTFireMaceTrail",0,0,0,frandom(-5.00,5.00),frandom(-8.00,8.00),frandom(10.00,1.00))
		TNT1 A 1 A_SpawnItemEx("WTFireMaceTrail",0,0,0,frandom(-5.00,5.00),frandom(-8.00,8.00),frandom(10.00,1.00))
	ARSCH:	
		TNT1 AAA 3 A_Wander
		TNT1 AAA 3 A_Chase("","",CHF_NOPLAYACTIVE)
		TNT1 A 0 A_Jump(35,"TeleEnd")
		Goto ARSCH
	TeleEnd:
		TNT1 A 0 A_PlaySound("illwhyrin/teleport",CHAN_BODY,1.0,0,ATTN_NORM)
		TNT1 A 0 A_SpawnItemEx("WTFireMaceTrail",0,0,0,frandom(-5.00,5.00),frandom(-8.00,8.00),frandom(10.00,1.00))
		TNT1 A 0 A_SpawnItemEx("WTFireMaceTrail",0,0,0,frandom(-5.00,5.00),frandom(-8.00,8.00),frandom(10.00,1.00))
		TNT1 A 0 A_SpawnItemEx("WTFireMaceTrail",0,0,0,frandom(-5.00,5.00),frandom(-8.00,8.00),frandom(10.00,1.00))
		TNT1 A 0 A_SetSolid
		WH_W E 1 A_SetShootable
		Goto SeenPlayer
	Death:
	XDeath:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		WH_Z A 3
		WH_Z B 3 A_Scream
		WH_Z C 3 A_NoBlocking
		WH_Z D 3
		WH_Z E 3
		WH_Z E -1 A_KillMaster
		Stop
	Death.DukeIce:
		"####" "#" 0 A_GiveToTarget("DukeBossKillTaunt",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 0 A_UnsetShootable
		"####" "#" 140 A_UnsetSolid
		"####" "#" 0 A_PlaySoundEx("freeze/break","soundslot6",0,0)
		"####" "##########################################################################################" 0 A_SpawnItemEx("IceChunk2",random(-1,1),random(-1,1),random(16,96),random(-2,2),random(-2,2),random(5,15))
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		TNT1 A 0 A_KillMaster
		stop		
	Death.RottDisintegrate:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking	
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_SpawnItem("RGodModeDeathHuge")
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		"####" "#" 0 A_KillMaster
		stop
	Disintegrate:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectHuge",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		"####" "#" 0 A_KillMaster
        stop		
	Pain.LifeLeech: 
		TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
		TNT1 A 0 A_GiveToTarget("HealthBonus", 1)
		Goto SeenPlayer		
	Pain.Vodoo:
		TNT1 A 0 A_GiveToTarget("Voodoo", 1)
		Goto SeenPlayer
	Pain.Hexen2RavenDamage:
		TNT1 A 0 A_Jump(192,"Pain")
		TNT1 A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
		Goto SeenPlayer		
	Death.Vodoo:
	Death.VoodooPuff:
	Death.DynamiteCoop:
	Death.Dynamite:
	Death.LifeLeech:
	Death.CalebNapalm:
	Death.Shock:	  
	Death.Vodoo:
	Death.Tesla:
	Death.CalebFire:	
	Death.CalebBullet:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt3", 1)
		Goto Death
	Death.EradExplosive:
	Death.EradNova:
	Death.EradShock:
	Death.EradExplosive2:	
    Death.EradDisc:
	Death.EradPiercingDart:
	Death.EradGreenFire:
	Death.EradCoopGreenFire:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt2", 1)
		Goto Death
	Death.DukeExplosive:
	Death.DukeDamage:
	Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBossKillTaunt",1)
		goto Death
	Death.MightyBoot:
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBossKillTaunt",1)
		goto Death
	Death.PSRAPower:
	Death.PSRAPowerCoop:
	Death.PSExplosive:
	Death.PSExplosiveCoop:
	Death.PSBullet:
	Death.PSFire:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		Goto Death
	Death.LeonardDamage2:
	Death.LeonardDamage3:
	Death.LeonardDamage0:
	Death.LeonardDamage1:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt2", 1)
		Goto Death		
	Death.SWFist:
	Death.SWKatana:
	Death.SWShuriken:
	Death.SWSticky:
	Death.SWStickyCoop:	
	Death.SWGrenade:
	Death.SWNuke:
	Death.SWRocket:
	Death.SWRailgun:
	Death.SWRailgunCoop:
	Death.SWNukeCoop:
	Death.SWFlame:
	Death.SWFlame2:
	Death.SWFlame2Coop:
	Death.SWFlame3:	
    Death.SWBullet:	  
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2", 1)
		goto Death
	Death.ZorchPistol:
	Death.Zorch:
	Death.ZorchKamikaze:
	Death.PhasingZorch:
	Death.ZorchSpectral:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorchhuge","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectHuge")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0)
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A -1 A_KillMaster
		stop
	Death.Nuke:
		WH_Z F 4 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Scream
		WH_Z G 4 A_NoBlocking
		WH_Z H 4 
		WH_Z I 4 
		WH_Z J 4 
		TNT1 A -1 A_KillMaster
		Stop		
	}
}

Actor IllwhyrinBlizzard
{
	PROJECTILE
	Height 1
	Radius 1
	Damage (0)
	Speed 0
	Species "Enemies"
	+NODAMAGETHRUST	
	+DONTHARMCLASS
	+DONTHARMSPECIES
	+THRUSPECIES
	+NOTIMEFREEZE	
	+MTHRUSPECIES
	DamageType Ice
	DONTHURTSHOOTER
	Obituary "%o was frozen by Illwhyrin's blizzard."
	States
	{
	Spawn:
		TNT1 A 0 A_Die
		Goto Death
	Death:
		TNT1 A 5 A_Explode(random(30,66),1440,0)
		stop
	}
}

Actor IllwhyrinExplosion
{
	PROJECTILE
	Height 1
	Radius 1
	Damage (0)
	Speed 0
	Species "Enemies"
	+NODAMAGETHRUST	
	+DONTHARMCLASS
	+DONTHARMSPECIES
	+THRUSPECIES
	+NOTIMEFREEZE	
	+MTHRUSPECIES
	+FIREDAMAGE
	DamageType "Nuke"
	DONTHURTSHOOTER
	Obituary "%o was undone by Illwhyrin's black magic."	
	States
	{
	Spawn:
		TNT1 A 0 A_Die
		Goto Death
	Death:
		TNT1 A 5 A_Explode(random(43,74),1860,0)
		stop
	}
}

Actor WTWillOWisp_2 : WTWillOWisp { Tag "Willow Wisp" +LOOKALLAROUND +NOTIMEFREEZE DamageFactor "Nuke", 0.0 }
Actor WTFireMaceBall_Enemy_2 : WTFireMaceBall_Enemy { +NOTIMEFREEZE Obituary "%o was cursed by Illwhyrin." }
Actor WTSpellArrow_Enemy : WTSpellArrow { +NOTIMEFREEZE +THRUSPECIES Species "Enemies" DamageType "" Damage ((random(10,24)+Random(Random(3,6),0))*random(2,1)) Speed 44 Obituary "%o was cursed by Illwhyrin." }