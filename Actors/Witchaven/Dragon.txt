Actor WitchavenDragon
{
	Species "Enemies"
	MONSTER	
	Radius 40
	Height 110	
	Health 4000
	Scale 0.80
	+NOPAIN
	+BOSS
	+BOSSDEATH
    +THRUGHOST
	+MISSILEMORE
	+MISSILEEVENMORE
	+QUICKTORETALIATE
	+ACTIVATEMCROSS
	+CANPASS	
	+FLOORCLIP
	+CANPUSHWALLS
	+CANUSEWALLS
    +NOTDMATCH
	+LONGMELEERANGE
	+DONTRIP	
	+NOINFIGHTING
	Tag "Dragon"
	Speed 13
	Mass 5000
	DamageType Fire
	SeeSound "wtdragon/see"
	ActiveSound "wtdragon/act"
	PainSound ""
	MeleeSound "wtdraon/fire"
	DeathSound "wtdragon/die"
	MeleeRange 96
	Obituary "%o was bbq'd by a Dragon."
	DamageFactor "Normal", 0.8	
    DamageFactor "Mace", 1.1
    DamageFactor "DragonClaw", 1.11
    PainChance "MightyBoot", 0
	PainChance "MarathonStun", 0
	PainChance "ShrinkerDMG", 0
    DamageFactor "Mace", 1.35
	DamageFactor "CorvusHellstaffTomed", 0.22	
    DamageFactor "CorvusCrossbow", 1.1	
    DamageFactor "DragonClaw", 1.5
	DamageFactor "MarathonShotgun", 0.8
	DamageFactor "MarathonPlasmaFire", 0.6
	DamageFactor "MarathonFusion", 0.7
    DamageFactor "WMCNade", 0.8
    DamageFactor "BJSpear", 0.2
	DamageFactor "DCannonProj", 0.8
	DamageFactor "Tesla", 0.66
	DamageFactor "Shock", 0.2	
	DamageFactor "LifeLeech", 0.68		
	DamageFactor "CalebFire", 0.2
    DamageFactor "CalebBullet", 0.74
	DamageFactor "Vodoo", 0.2
	DamageFactor "DisruptorWall", 0.3
	DamageFactor "EradNova", 0.2
    DamageFactor "EradGreenFire", 0.1
    DamageFactor "EradCoopGreenFire", 0.1
	DamageFactor "RottFire", 0.4
	DamageFactor "HLLaser", 0.65
	DamageFactor "WTRangedFire", 0.3
	DamageFactor "Nuke", 0.5
	DamageFactor "SWNuke", 0.5
	DamageFactor "SWNukeCoop", 0.5
	DamageFactor "SWFlame", 0.1
	DamageFactor "SWFlameCoop", 0.1	
	DamageFactor "SWFlame2", 0.1
	DamageFactor "SWFlame2Coop", 0.1
	DamageFactor "SWFlame3", 0.3
    DamageFactor "RMR-BigPlasma", 0.4		
	DamageFactor "CMDMGSHIT", 0.7
	DamageFactor "Disintegrate", 0.7
	DamageFactor "RottBullet", 0.7
	DamageFactor "FireExplosive", 0.5
	DamageFactor "Fire", 0.4
	DamageFactor "Ice", 0.5
	DamageFactor "C7Disintegrate", 0.5	
	States
	{
	Spawn:
		WH_7 A 0
		WH_7 A 1 A_JumpIfInventory("AlreadySpawned",1,"SpawnStandard")
		WH_7 A 1 ACS_ExecuteAlways(668,0,1,0)
		WH_7 A 0 A_GiveInventory("AlreadySpawned",1)
		WH_7 A 0 A_JumpIfInventory("InvisibleToken",1,2)
		WH_7 A 0 A_Jump(256,2)
		WH_7 A 0 A_ChangeFlag("STEALTH",1)
	SpawnStandard:
		WH_D A 5 A_Look
		Loop
	See:
		TNT1 A 0 A_JumpIfInventory("SawPlayer", 1, "See2")
		TNT1 A 0 A_GiveInventory("SawPlayer", 1)		
		TNT1 A 0 A_GiveToTarget("EleenaBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("LoWangBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("LeonardBossSightTaunt")					
		TNT1 A 0 A_GiveToTarget("DukeBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("CalebBossSightTaunt")
		TNT1 A 0 A_GiveToTarget("HLBossSightMusicQueue")
	See2:	
		WH_D ABCDEFGHIJKL 4 A_Chase
		Loop
	Missile:
		WH_D MMNNOOPP 2 A_FaceTarget
		WH_D QQ 2 A_FaceTarget
		TNT1 AAA 0 A_CustomMissile("WTFireMaceBall_Enemy_Dragon",25,0,frandom(-9.00,9.00))
		WH_D RR 2 A_FaceTarget
		TNT1 AAA 0 A_CustomMissile("WTFireMaceBall_Enemy_Dragon",25,0,frandom(-9.00,9.00))
		WH_D SS 2 A_FaceTarget
		TNT1 AAA 0 A_CustomMissile("WTFireMaceBall_Enemy_Dragon",25,0,frandom(-9.00,9.00))
		WH_D TT 2 A_FaceTarget
		TNT1 AAA 0 A_CustomMissile("WTFireMaceBall_Enemy_Dragon",25,0,frandom(-9.00,9.00))
		WH_D UU 2 A_FaceTarget
		TNT1 AAA 0 A_CustomMissile("WTFireMaceBall_Enemy_Dragon",25,0,frandom(-9.00,9.00))
		WH_D VV 2 A_FaceTarget
		TNT1 AAA 0 A_CustomMissile("WTFireMaceBall_Enemy_Dragon",25,0,frandom(-9.00,9.00))
		WH_D WWXXYYZZ 2 A_FaceTarget
		WH_E AABBCC 2 A_FaceTarget
		WH_D NNMM 2 A_FaceTarget
		Goto See
	Melee:
		WH_D MMNNOOPP 2 A_FaceTarget
		TNT1 A 0 A_PlaySound("gspell/fire",CHAN_BODY,1.0,0,ATTN_NORM)
		WH_E DD 2 A_FaceTarget		
		TNT1 A 0 A_CustomMeleeAttack(10,"","")
		WH_E EE 2 A_FaceTarget
		TNT1 A 0 A_CustomMeleeAttack(15,"","")		
		WH_E FF 2 A_FaceTarget
		TNT1 A 0 A_CustomMeleeAttack(15,"","")		
		WH_E GG 2 A_FaceTarget
		TNT1 A 0 A_CustomMeleeAttack(15,"","")		
		WH_E HH 2 A_FaceTarget
		TNT1 A 0 A_CustomMeleeAttack(15,"","")		
		WH_E II 2 A_FaceTarget
		TNT1 A 0 A_CustomMeleeAttack(15,"","")		
		WH_D WW 2 A_FaceTarget		
		WH_D XXYYZZ 2 A_FaceTarget
		WH_E AABBCC 2 A_FaceTarget
		WH_D NNMM 2 A_FaceTarget
		Goto See
	Death:
	XDeath:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)			
		WH_E J 3
		WH_E K 3 A_Scream
		WH_E L 3 A_NoBlocking
		WH_E M 3
		WH_E N 3
		WH_E OPQR 3
		WH_E STUVW 3
		WH_E W -1 A_KillMaster
		Stop
	Death.DukeIce:
		"####" "#" 0 A_GiveToTarget("DukeBossKillTaunt",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 0 A_UnsetShootable
		"####" "#" 140 A_UnsetSolid
		"####" "#" 0 A_PlaySoundEx("freeze/break","soundslot6",0,0)
		"####" "##########################################################################################" 0 A_SpawnItemEx("IceChunk2",random(-1,1),random(-1,1),random(16,96),random(-2,2),random(-2,2),random(5,15))
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		TNT1 A 0 A_KillMaster
		stop		
	Death.RottDisintegrate:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking	
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_SpawnItem("RGodModeDeathHuge")
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		"####" "#" 0 A_KillMaster
		stop
	Disintegrate:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectHuge",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_ExecuteAlways(2530,0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		"####" "#" 0 A_KillMaster
        stop				
	Pain.LifeLeech: 
		TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
		TNT1 A 0 A_GiveToTarget("HealthBonus", 1)
		Goto Pain		
	Pain.Vodoo:
		TNT1 A 0 A_GiveToTarget("Voodoo", 1)
		Goto Pain
	Death.Vodoo:
	Death.VoodooPuff:
	Death.DynamiteCoop:
	Death.Dynamite:
	Death.LifeLeech:
	Death.CalebNapalm:
	Death.Shock:	  
	Death.Vodoo:
	Death.Tesla:
	Death.CalebFire:	
	Death.CalebBullet:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt3", 1)
		Goto Death
	Death.EradExplosive:
	Death.EradNova:
	Death.EradShock:
	Death.EradExplosive2:	
    Death.EradDisc:
	Death.EradPiercingDart:
	Death.EradGreenFire:
	Death.EradCoopGreenFire:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt2", 1)
		Goto Death
	Death.DukeExplosive:
	Death.DukeDamage:
	Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBossKillTaunt",1)
		goto Death
	Death.MightyBoot:
		TNT1 A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBossKillTaunt",1)
		goto Death
	Death.PSRAPower:
	Death.PSRAPowerCoop:
	Death.PSExplosive:
	Death.PSExplosiveCoop:
	Death.PSBullet:
	Death.PSFire:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		Goto Death
	Death.LeonardDamage2:
	Death.LeonardDamage3:
	Death.LeonardDamage0:
	Death.LeonardDamage1:	
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt2", 1)
		Goto Death		
	Death.SWFist:
	Death.SWKatana:
	Death.SWShuriken:
	Death.SWSticky:
	Death.SWStickyCoop:	
	Death.SWGrenade:
	Death.SWNuke:
	Death.SWRocket:
	Death.SWRailgun:
	Death.SWRailgunCoop:
	Death.SWNukeCoop:
	Death.SWFlame:
	Death.SWFlame2:
	Death.SWFlame2Coop:
	Death.SWFlame3:	
    Death.SWBullet:	  
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2", 1)
		goto Death	
	Death.ZorchPistol:
	Death.Zorch:
	Death.ZorchKamikaze:
	Death.PhasingZorch:
	Death.ZorchSpectral:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorchhuge","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectHuge")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0)
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A -1 A_KillMaster
		stop
	Death.Nuke:
		WH_E X 4 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Scream
		WH_E Y 4 A_NoBlocking
		WH_E Z 4 
		WH_A M 4 
		WH_A N 4 
		TNT1 A -1 A_KillMaster
		Stop		
	}
}

Actor WTFireMaceBall_Enemy_Dragon : WTFireMaceBall_Enemy { Obituary "%o was bbq'd by a Dragon." Speed 25 }